<!DOCTYPE html>
<% _.defaults(slots, { title: '', bodyClass: '', crumbs: [] }) %>
<% slots.crumbs.unshift({'title': 'Home', 'href': '/'}) %>
<html lang="en">
<head>
<% // For bootstrap mobile %>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>justjs<%- slots.title %></title>
<link href="/static/css/justjs.css" rel="stylesheet" />
<link href="/static/bootstrap/css/bootstrap.css" rel="stylesheet" />
<link href="/static/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
</head>
<body class="justjs <%= slots.bodyClass %>">
    <div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container">
				<% // If we needed navbar buttons, they'd go here! %>
				<% if (false) { %>
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
				<% } %>
				<a class="brand" href="/">justjs</a>
				<% // If we needed tabs, they'd go here! %>
				<% if (true) { %>
					<div class="nav-collapse">
					<ul class="nav">
					<li class="active"><a href="#">Blog</a></li>
					<li><a href="http://github.com/boutell/justjs">Code</a></li>
					<li><a href="mailto:boutell@boutell.com?subject=justjs">Contact</a></li>
					</ul>
					</div><!--/.nav-collapse -->
			    <% } %>
			    <%= partial('login', {}) %>
			</div>
		</div>
    </div>

	<div class="container">
		<%= partial('crumbs', {}) %>
		<div class="row">
			<div class="span12">
				<%= slots.body %>
			</div>
		</div>
	</div>
<% // Scripts at the end, for faster page load %>
<script type="text/javascript" src="/static/js/jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="/static/js/justjs.js"></script>
<% // Load the expensive stuff only when needed %>
<% if (slots.richTextEditor) { %>
	<script type="text/javascript" src="/static/ckeditor/ckeditor.js"></script>
	<script type="text/javascript">
		<% // Once the DOM is ready, replace appropriate textareas %>
		<% // With rich text editors. NOTE: the 'name' attributes must %>
		<% // be unique in the page (a limitation of CKEditor) %> 
		$(function() {
			$('.rich-text-editor').each(function() {
				CKEDITOR.replace($(this).attr('name'));
			});
		});
	</script>
<% } %>
</body>
</html>
